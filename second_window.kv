# Second Window

<DeniedExpense>:
    orientation: "vertical"
    size_hint: 1, None
    pos_hint: {'center_y': .5, 'center_x': .5}
    height: "130dp"

    MDBoxLayout:
        pos_hint: {'center_y': .5, 'center_x': .5}
        MDIconButton:
            size_hint_x: 1
            icon: 'alpha-x-circle'
            disabled_color: 253/255, 60/255, 74/255, 1
            theme_icon_color: 'Custom'
            disabled: True
            icon_size: '50sp'
    MDBoxLayout:
        orientation: 'vertical'
        spacing: 5
        MDLabel:
            valign: 'middle'
            halign: 'center'
            font_name: 'Inter/Inter-Bold'
            text: 'Error'
            text_color:  253/255, 60/255, 74/255, 1
            font_size: '20sp'
            theme_text_color: 'Custom'
        MDLabel:
            valign: 'middle'
            halign: 'center'
            font_name: 'Inter/Inter-Regular'
            text: 'Transaction cannot be completed'
            font_size: '14sp'

<StartingPoint>
    starting_point: starting_point
    MDTextField:
    
        id: starting_point
        hint_text: "    Starting Point    "        
        font_size: "18sp"  
        mode: 'rectangle'
        font_name: 'Inter/Inter-Regular'
        theme_text_color: 'Custom'
    MDIconButton:
        icon: "bus"
      #  ripple_scale: 0
        pos_hint: {"right": 0.99}
        pos: starting_point.width - self.width + dp(8), 0
        on_release:
            root.startingPlace()


<EndPoint>
    end_point: end_point
    MDTextField:
        id: end_point
        font_name: 'Inter/Inter-Regular'
        mode: 'rectangle'
        hint_text: "    Destination    "
        font_size: "18sp"


    MDIconButton:
        icon: "bus-marker"
        ripple_scale: 0
        pos_hint: {"right": 0.99}
        pos: end_point.width - self.width + dp(8), 0
        on_release:
            root.destinationPlace()
            
<ListofRoutes>:
    MDBoxLayout:
        height: '400dp'
        ScrollView:
            MDList:
                id: list_of_route
                padding: 0

<SecondWindow>:
    name: "second"
    starting_place: starting_place
    destination: destination
    passenger:passenger
    minimum_fare:minimum_fare

    MDBoxLayout:
        size_hint: 1, 1
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .5}

        #Button
        MDBoxLayout:
            size_hint: .90, .1
            pos_hint: {'center_x': .5, 'center_y': .5}

            MDRelativeLayout:
                pos_hint: {'center_y': .5, 'left': 1}
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {'center_y': 0.5}
                    on_release:
                        app.root.current = "main"
                        root.manager.transition.direction = "right"

                MDLabel:
                    text: "Route"
                    halign: "center"

                    font_name: 'Inter/Inter-Bold'
                    bold: True
                    theme_text_color: "Custom"
                    text_color: [0, 0, 0, 1]

                MDIconButton:
                    icon: "history"
                    pos_hint:{'center_y': .5, 'right': 1}
                    on_release:
                        app.root.current = "history"
                        root.manager.transition.direction = "left"

        MDBoxLayout:
            size_hint: 0.90, .9
            spacing: 10
            pos_hint: {'center_x': .5, 'center_y': .5}
            orientation: 'vertical'
            MDBoxLayout:
                size_hint_y: .15
                MDLabel:
                    text: "City of Imus - Indang, Cavite (Vice-Versa)"
                    halign: "center"
                    pos_hint: {'center_y': 0.5}
                    font_name: 'Inter/Inter-Medium'
                    size_hint_y: None
                    font_size: '24sp'
                    theme_text_color: "Custom"
                    text_color: [0, 0, 0, 1]

            # Starting Place and Destination    
            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: .25
                # Starting Location

                StartingPoint:
                    id: starting_place

                # Destination

                EndPoint:
                    id: destination


            # Number of Passenger and Minimum Fare
            MDBoxLayout:
                size_hint_y: .15
                orientation: 'horizontal'
                spacing: 10

                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: .8
                    MDLabel:
                        text: "Passenger #"
                        font_name: 'Inter/Inter-Regular'
                        theme_text_color: "Custom"
                        text_color: [0, 0, 0, 1]
                        font_size: '12sp'
                    MDTextField:
                        id: passenger
                        color_mode: 'custom'
                        font_name: 'Inter/Inter-Medium'

                        line_color_focus: 0, 0, 0, 1
                        line_color_normal: 0, 0, 0, 1
                        halign: "center"
                        text: '1'
                        font_size: "18sp"

                MDBoxLayout:
                    size_hint_y: .8
                    orientation: 'vertical'
                    MDLabel:
                        text: "Minimum Fare"
                        font_name: 'Inter/Inter-Regular'
                        theme_text_color: "Custom"
                        text_color: [0, 0, 0, 1]
                        font_size: '12sp'
                    MDTextField:
                        id: minimum_fare
                        halign: "center"
                        color_mode: 'custom'
                        font_name: 'Inter/Inter-Medium'

                        line_color_focus: 0, 0, 0, 1
                        line_color_normal: 0, 0, 0, 1
                        text: '12'
                        font_size: "18sp"
            
            # Submit & Refresh
            MDBoxLayout:
                size_hint_y: .3
                orientation: 'horizontal'
                spacing: 10

                MDButton:
                    style: "filled"
                    md_bg_color: [80/255, 194/255, 201/255, 1]
                    size_hint_x: .9
                    on_release:
                        root.validate()

                    MDButtonText:
                        text: "Submit"
                        text_color: [1, 1, 1, 1]
                        theme_text_color: 'Custom'

                MDIconButton
                    icon: "refresh"
                    pos_hint: {'center_y': 0.5}
                    on_release:

<ApproveExpense>:
    orientation: "vertical"
    spacing: 15
    size_hint: 1, None
    height: "350dp"
    padding: [0, 10, 0, 10]
    MDBoxLayout:
        spacing: 15
        size_hint: .9, 1

        pos_hint: {'center_x': .5, 'center_y': .5}
        md_bg_color: 'white'
        radius: 4
        orientation: 'vertical'
        MDBoxLayout:
            pos_hint: {'center_y': .5, 'center_x': .5}
            MDIconButton:
                size_hint_x: 1
                icon: 'check-circle'
                disabled_color: 127/255, 61/255, 255/255, 1
                theme_icon_color: 'Custom'
                disabled: True
                icon_size: '50sp'

        MDBoxLayout:
            orientation: 'vertical'
            spacing: 5
            MDLabel:
                valign: 'middle'
                halign: 'center'
                font_name: 'Inter/Inter-Bold'
                text: 'Success'
                text_color:  127/255, 61/255, 255/255, 1
                font_size: '20sp'
                theme_text_color: 'Custom'
            MDLabel:
                valign: 'middle'
                halign: 'center'
                text: 'Transaction has been completed'
                font_size: '14sp'
                font_name: 'Inter/Inter-Regular'

 
        MDBoxLayout:
            MDTextField:
                pos_hint: { 'center_y': .5}
                id: transit
                font_name: 'Inter/Inter-Regular'

                text : f"{root.text}"
                color_mode: 'custom'
                line_color_focus: 0, 0, 0, 1
                line_color_normal: 0, 0, 0, 1
                disabled: True
                hint_text: '    Transit    '
                font_size: "15dp"
                mode: 'rectangle'
                icon_left: 'transit-connection'
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: 10
            MDTextField:
                pos_hint: { 'center_y': .5}
               # id: distance
                text : f"{root.distance}"
                font_name: 'Inter/Inter-Regular'
                color_mode: 'custom'
                line_color_focus: 0, 0, 0, 1
                line_color_normal: 0, 0, 0, 1
                disabled: True
                hint_text: '    Distance    '
                font_size: "15dp"
                mode: 'rectangle'
                icon_left: 'map-marker-distance'
            MDTextField:
              #  id: total
                text : f"{root.total}"
                font_name: 'Inter/Inter-Regular'

                pos_hint: { 'center_y': .5}
                color_mode: 'custom'
                line_color_focus: 0, 0, 0, 1
                line_color_normal: 0, 0, 0, 1
                disabled: True
                hint_text: '    Fare    '
                font_size: "15dp"
                mode: 'rectangle'
                icon_left: 'cash-check'
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: 10
            MDIconButton:
                icon: 'history'
                pos_hint: {'center_y': .5}
                on_release:
                    app.root.current = 'history'
                    root.cancel()

            MDButton:
                style: "filled"
                md_bg_color: [80/255, 194/255, 201/255, 1]
                size_hint_x: .9
                on_release:
                    root.cancel()

                MDButtonText:
                    text: "PARA"
                    text_color: [1, 1, 1, 1]
                    theme_text_color: 'Custom'
