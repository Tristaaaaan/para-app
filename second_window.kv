# Second Window

<DeniedExpense>:
    orientation: "vertical"
    size_hint: 1, None
    pos_hint: {'center_y': .5, 'center_x': .5}
    height: "130dp"

    MDBoxLayout:
        pos_hint: {'center_y': .5, 'center_x': .5}
        MDIconButton:
            size_hint_x: 1
            icon: 'alpha-x-circle'
            disabled_color: 253/255, 60/255, 74/255, 1
            theme_icon_color: 'Custom'
            disabled: True
            icon_size: '50sp'
    MDBoxLayout:
        orientation: 'vertical'
        spacing: 5
        MDLabel:
            valign: 'middle'
            halign: 'center'
            font_name: 'fonts/Roboto-Black'
            text: 'Error'
            text_color:  253/255, 60/255, 74/255, 1
            font_size: '20sp'
            theme_text_color: 'Custom'
        MDLabel:
            valign: 'middle'
            halign: 'center'
            font_name: 'fonts/Roboto-Light'
            text: 'Transaction cannot be completed'
            font_size: '14sp'

<StartingPoint>
    starting_point: starting_point
    MDTextField:
        id: starting_point
        hint_text: "    Starting Point    "        
        font_size: "14dp"  
        mode: 'rectangle'
    MDIconButton:
        icon: "bus"
      #  ripple_scale: 0
        pos_hint: {"right": 0.99}
        pos: starting_point.width - self.width + dp(8), 0
        on_release:
            root.bottomSheetRoute()

<EndPoint>
    end_point: end_point
    MDTextField:
        id: end_point
        mode: 'rectangle'
        hint_text: "    Destination    "
        font_size: "14dp"
    MDIconButton:
        icon: "bus-marker"
      #  ripple_scale: 0
        pos_hint: {"right": 0.99}
        pos: end_point.width - self.width + dp(8), 0
        on_release:
            root.bottomSheetRouteReverse()

<SecondWindow>:
    name: "second"
    starting_place: starting_place
    destination: destination
    passenger:passenger
    minimum_fare:minimum_fare
    
    MDBoxLayout:
        size_hint: 1, 1
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .5}

        #Button
        MDBoxLayout:
            size_hint: .95, .1
            pos_hint: {'center_x': .5, 'center_y': .5}

            MDRelativeLayout:
                pos_hint: {'center_y': .5}
                MDIconButton:
                    icon: "arrow-left"
                    pos_hint: {'center_y': 0.5}
                    on_release:
                        app.root.current = "main"
                        root.manager.transition.direction = "right"

                MDLabel:
                    text: "ROUTE"
                    halign: "center"
                    font_style: "Caption"
                    bold: True
                    theme_text_color: "Custom"
                    text_color: [0, 0, 0, 1]

        MDBoxLayout:
            size_hint: 0.95, .9
            spacing: 10
            pos_hint: {'center_x': .5, 'center_y': .5}
            orientation: 'vertical'
            MDBoxLayout:
                size_hint_y: .15
                MDLabel:
                    text: "City of Imus - Indang, Cavite (Vice-Versa)"
                    halign: "center"
                    pos_hint: {'center_y': 0.5}

                    bold: True
                    size_hint_y: None
                    font_style: "H6"
                    theme_text_color: "Custom"
                    text_color: [0, 0, 0, 1]

            # Starting Place and Destination    
            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: .25
                # Starting Location

                StartingPoint:
                    id: starting_place

                # Destination

                EndPoint:
                    id: destination


            # Number of Passenger and Minimum Fare
            MDBoxLayout:
                size_hint_y: .15
                orientation: 'horizontal'
                spacing: 10

                MDBoxLayout:
                    orientation: 'vertical'
                    size_hint_y: .8
                    MDLabel:
                        text: "No. of Passenger"
                        font_style: "Overline"
                        theme_text_color: "Custom"
                        text_color: [0, 0, 0, 1]
                    MDTextField:
                        id: passenger
                        color_mode: 'custom'
                        line_color_focus: 0, 0, 0, 1
                        line_color_normal: 0, 0, 0, 1
                        halign: "center"
                        text: '1'
                        font_size: "15dp"

                MDBoxLayout:
                    size_hint_y: .8
                    orientation: 'vertical'
                    MDLabel:
                        text: "Minimum Fare"
                        font_style: "Overline"
                        theme_text_color: "Custom"
                        text_color: [0, 0, 0, 1]
                    MDTextField:
                        id: minimum_fare
                        halign: "center"
                        color_mode: 'custom'
                        line_color_focus: 0, 0, 0, 1
                        line_color_normal: 0, 0, 0, 1
                        text: '12'
                        font_size: "15dp"
            
            # Submit & Refresh
            MDBoxLayout:
                size_hint_y: .4
                orientation: 'horizontal'
                spacing: 10
                MDFlatButton:
                    text: "SUBMIT"
                    font_name: "RobotoMedium"
                    font_size: "12dp"
                    size_hint_x: 0.9
                    pos_hint: {'center_y': 0.5}
                    theme_text_color: 'Custom'
                    text_color: [1, 1, 1, 1]
                    md_bg_color: [20/255, 20/255, 20/255, 1]
                    on_release:
                        root.validate()
                MDIconButton
                    icon: "refresh"
                    pos_hint: {'center_y': 0.5}
                    on_release:
                        root.refresh()


<ApproveExpense>:
    orientation: "vertical"
    spacing: "15dp"
    size_hint: 1, None
    height: "325dp"
    padding: [0, 10, 0, 10]
    MDBoxLayout:
        spacing: 
        size_hint_y: 1
        pos_hint: { 'center_y': .5}
        orientation: 'vertical'
        MDBoxLayout:
            pos_hint: {'center_y': .5, 'center_x': .5}
            MDIconButton:
                size_hint_x: 1
                icon: 'check-circle'
                disabled_color: 127/255, 61/255, 255/255, 1
                theme_icon_color: 'Custom'
                disabled: True
                icon_size: '50sp'

        MDBoxLayout:
            orientation: 'vertical'
            spacing: 5
            MDLabel:
                valign: 'middle'
                halign: 'center'
                font_name: 'fonts/Roboto-Black'
                text: 'Success'
                text_color:  127/255, 61/255, 255/255, 1
                font_size: '20sp'
                theme_text_color: 'Custom'
            MDLabel:
                valign: 'middle'
                halign: 'center'
                text: 'Transaction has been completed'
                font_size: '14sp'
                font_name: 'fonts/Roboto-Light'

 
        MDBoxLayout:
            MDTextField:
                pos_hint: { 'center_y': .5}
                id: transit
                text : f"{root.text}"
                color_mode: 'custom'
                line_color_focus: 0, 0, 0, 1
                line_color_normal: 0, 0, 0, 1
                disabled: True
                hint_text: '    Transit    '
                font_size: "15dp"
                mode: 'rectangle'
                icon_left: 'bus'
        MDBoxLayout:
            orientation: 'horizontal'
            spacing: 10
            MDTextField:
                pos_hint: { 'center_y': .5}
               # id: distance
                text : f"{root.distance}"

                color_mode: 'custom'
                line_color_focus: 0, 0, 0, 1
                line_color_normal: 0, 0, 0, 1
                disabled: True
                hint_text: '    Distance    '
                font_size: "15dp"
                mode: 'rectangle'
                icon_left: 'bus'
            MDTextField:
              #  id: total
                text : f"{root.total}"

                pos_hint: { 'center_y': .5}
                color_mode: 'custom'
                line_color_focus: 0, 0, 0, 1
                line_color_normal: 0, 0, 0, 1
                disabled: True
                hint_text: '    Fare    '
                font_size: "15dp"
                mode: 'rectangle'
                icon_left: 'bus'
        MDFlatButton:
            text: "PARA"
            pos_hint: { 'center_y': .5}

            font_name: "RobotoMedium"
            text_color: [1, 1, 1, 1]
            size_hint_x: 1
            pos_hint: {'center_y': 0.5}
            theme_text_color: 'Custom'
            md_bg_color: [20/255, 20/255, 20/255, 1]
            on_release:
                app.root.current = "second"
                root.manager.transition.direction = "left"
            

